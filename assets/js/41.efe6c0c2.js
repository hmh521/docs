(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{419:function(a,s,t){"use strict";t.r(s);var n=t(14),e=Object(n.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"linux"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux"}},[a._v("#")]),a._v(" Linux")]),a._v(" "),s("p",[s("font",{staticStyle:{color:"#E8323C"}},[a._v("一切皆文件")])],1),a._v(" "),s("p",[s("font",{staticStyle:{color:"#E8323C"}},[a._v("很多大型项目都部署到Linux上")])],1),a._v(" "),s("p",[a._v("林纳斯.托瓦兹")]),a._v(" "),s("p",[a._v("Unix 操作系统，多用户，root")]),a._v(" "),s("p",[a._v("Debian ubuntu")]),a._v(" "),s("p",[a._v("RhEL  cenos 免费版")]),a._v(" "),s("p",[a._v("kali 安全渗透测试使用")]),a._v(" "),s("p",[a._v("RedHat 红帽认证工程师 收费的")]),a._v(" "),s("p",[a._v("LAMP 或者 LNMP")]),a._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[a._v("yum -y install net-tools\nifconfig\nip addr\n")])])]),s("p",[a._v("windows 叫服务   linux叫守护进程")]),a._v(" "),s("p",[a._v("登录")]),a._v(" "),s("ol",[s("li",[a._v("命令行登录 "),s("font",{staticStyle:{color:"rgb(199, 37, 78)","background-color":"rgb(249, 242, 244)"}},[a._v("su - root")])],1),a._v(" "),s("li",[a._v("SSH")]),a._v(" "),s("li",[a._v("图形化界面")])]),a._v(" "),s("h2",{attrs:{id:"关机"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关机"}},[a._v("#")]),a._v(" 关机")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sync")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 数据由内存同步到硬盘")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("shutdown")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 关机命令")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("shutdown")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" now "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 立即关机")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("reboot")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 重启")]),a._v("\n")])])]),s("h2",{attrs:{id:"目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目录"}},[a._v("#")]),a._v(" 目录")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" / "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看根目录")]),a._v("\n")])])]),s("ul",[s("li",[a._v("bin 目录常用命令")]),a._v(" "),s("li",[a._v("boot  核心文件")]),a._v(" "),s("li",[a._v("dev 外部设备")]),a._v(" "),s("li",[a._v("mnt 光驱挂载")]),a._v(" "),s("li",[a._v("etc 配置文件")]),a._v(" "),s("li",[a._v("home 用户目录")]),a._v(" "),s("li",[a._v("lib 基本依赖")]),a._v(" "),s("li",[a._v("lost+found 突然关机的一些文件")]),a._v(" "),s("li",[a._v("opt 软件安装包")]),a._v(" "),s("li",[a._v("proc 虚拟目录")]),a._v(" "),s("li",[a._v("root  系统管理员目录")]),a._v(" "),s("li",[a._v("tmp 临时文件")]),a._v(" "),s("li",[a._v("usr 用户的很多应用程序、")]),a._v(" "),s("li",[a._v("var 日志目录")]),a._v(" "),s("li",[a._v("www 存放服务器网站相关的资源（宝塔相关的）")])]),a._v(" "),s("h2",{attrs:{id:"基本命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本命令"}},[a._v("#")]),a._v(" 基本命令")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 绝对路径 相对路径")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" 切换目录\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(" 上一级目录\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" / 返回根目录\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" 列出目录\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-a")]),a._v(" 全部文件，包括隐藏文件\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-l")]),a._v(" 列出所有的文件，包含文件的属性和权限，没有隐藏文件\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-al")]),a._v(" \n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" ~ 回到用户目录\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("pwd")]),a._v(" 查看当前目录\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" 创建目录\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" 递归创建目录\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rmdir")]),a._v(" 移除文件夹\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rmdir")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" 递归删除文件夹\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" 当前文件 新的地方\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" （移除文件）\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" 强制删除\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r")]),a._v(" 递归删除\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" 互动，删除询问是否删除\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-rf")]),a._v(" / 删库跑路\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" 移动文件\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" 强制\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" 原名 修改名\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" 类似于覆盖\n")])])]),s("h2",{attrs:{id:"属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#属性"}},[a._v("#")]),a._v(" 属性")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("第一个字符\nd 目录\n- 文件\nl 链接文档\nb 外部接口\nc 鼠标 键盘\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v("个一组\nr 可读 "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("4")]),a._v("\nw 可写 "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("\nx 执行 "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\nroot  组权限  其他用户\n文件所有者 文件所属组\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("chgrp")]),a._v(" 更改文件所有者\nchgtp "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-R")]),a._v(" root www\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("chown")]),a._v(" 更改文件属主 文件名\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" 更改文件属性\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("777")]),a._v(" filename\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ll")]),a._v(" 等同于 ll\n公司通常是744\n")])])]),s("h2",{attrs:{id:"文件内容查看"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件内容查看"}},[a._v("#")]),a._v(" 文件内容查看")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" 第一行开始显示\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("tac")]),a._v(" 倒着显示\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("nl")]),a._v(" 显示的时候，顺道输出行号\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("more")]),a._v(" 一页一页的显示 空格翻页 enter 代表向下看一行 :f 显示行号\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("less")]),a._v(" 与 "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("more")]),a._v(" less可以向前翻页  退出时q命令\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("head")]),a._v(" 只看头几行\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("tail")]),a._v(" 只看尾巴几行\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /etc/sysconfig/network-scripts 网络连接配置\nifcfg-eth0 默认网络配置文件\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("head")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("20")]),a._v(" 看20行\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("less")]),a._v(" 使用 /要搜寻的文件名 向下查询 ？向上查 n 向下寻找  N 向前寻找\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("nl")]),a._v(" csh.login "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("head")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v("\n")])])]),s("h2",{attrs:{id:"链接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#链接"}},[a._v("#")]),a._v(" 链接")]),a._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[a._v('// 创建文件\ntouch 文件名\n// ln 硬链接\nln f1 f2\n// ln -s 软连接\nln -s f1 f3\n// echo 输入字符串\necho "i love haohao" >>f1\n')])])]),s("p",[a._v("硬链接：  多个文件名指向同一索引节点，建立硬连接到重要文件，以防止“误删”的功能，只有当最后一个连接被删除后，文件的数据块及目录的连接才会被释放。")]),a._v(" "),s("p",[a._v("软链接(符号链接)：快捷方式")]),a._v(" "),s("h2",{attrs:{id:"vim文本编辑器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vim文本编辑器"}},[a._v("#")]),a._v(" VIM文本编辑器")]),a._v(" "),s("ul",[s("li",[a._v("查看内容")]),a._v(" "),s("li",[a._v("编辑内容")]),a._v(" "),s("li",[a._v("保存内容")])]),a._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[a._v("vim hao.txt // 创建新文件\ni 输入模式\n: 底线模式\nesc 回到命令模式\n:wq 保存并退出\n:q! 不保存退出\nG 最后一行\ngg 第一行\nn + 回车 向下几行\n/寻找的文字\nn 往上\nN 往下\n:set nu 设置行号\nZZ 没动就退出\nu 重复动作\n")])])]),s("ul",[s("li",[a._v("如果文件存在就是修改这个文件，不存在文件新增。")])]),a._v(" "),s("h2",{attrs:{id:"用户组管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用户组管理"}},[a._v("#")]),a._v(" 用户组管理")]),a._v(" "),s("blockquote",[s("p",[a._v("useradd 命令 添加用户")])]),a._v(" "),s("p",[a._v("useradd -m 用户名")]),a._v(" "),s("p",[a._v("-G 用户组")]),a._v(" "),s("ul",[s("li",[a._v("自动创建用户在  /home/huminghao 目录")])]),a._v(" "),s("p",[a._v("userdel -r 用户名")]),a._v(" "),s("ul",[s("li",[a._v("删除目录")])]),a._v(" "),s("p",[a._v("查看记录   cat /etc/passwd")]),a._v(" "),s("p",[a._v("修改用户 usermod 对应修改的内容，修改哪个用户")]),a._v(" "),s("p",[a._v("usermod -d /home/233 huminghao")]),a._v(" "),s("p",[a._v("su huminghao    切换用户")]),a._v(" "),s("p",[a._v("hostname 查看主机名 临时")]),a._v(" "),s("p",[a._v("passwd 修改密码")]),a._v(" "),s("div",{staticClass:"language-plain extra-class"},[s("pre",{pre:!0,attrs:{class:"language-plain"}},[s("code",[a._v("passwd huminghao\nlinux 密码看不见\n")])])]),s("blockquote",[s("p",[a._v("锁定账户")])]),a._v(" "),s("div",{staticClass:"language-plain extra-class"},[s("pre",{pre:!0,attrs:{class:"language-plain"}},[s("code",[a._v("passwd -l huminghao\n用户将不能登录\npasswd -d huminghao\n清空密码\n")])])]),s("h2",{attrs:{id:"用户组管理-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用户组管理-2"}},[a._v("#")]),a._v(" 用户组管理")]),a._v(" "),s("p",[a._v("groupadd 组名")]),a._v(" "),s("p",[a._v("cat /etc/group")]),a._v(" "),s("p",[a._v("-g 指定组id  如果不指定就是自增")]),a._v(" "),s("p",[a._v("groupdel 删除用户组")]),a._v(" "),s("p",[a._v("修改用户组的权限信息 名字")]),a._v(" "),s("div",{staticClass:"language-plain extra-class"},[s("pre",{pre:!0,attrs:{class:"language-plain"}},[s("code",[a._v("groupmod -g 666 -n newhuminghao huminghao\n")])])]),s("h3",{attrs:{id:"用户切换用户组"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用户切换用户组"}},[a._v("#")]),a._v(" 用户切换用户组")]),a._v(" "),s("div",{staticClass:"language-plain extra-class"},[s("pre",{pre:!0,attrs:{class:"language-plain"}},[s("code",[a._v("$ newgrp root\n")])])]),s("h3",{attrs:{id:"文件查看"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件查看"}},[a._v("#")]),a._v(" 文件查看")]),a._v(" "),s("p",[a._v("/etc/passwd")]),a._v(" "),s("p",[a._v("用户名：口令：用户标识号，组标识号，注释性描述，主目录，登录shell")]),a._v(" "),s("p",[a._v("/etc/shadow")]),a._v(" "),s("p",[a._v("查看加密后的密码")]),a._v(" "),s("h2",{attrs:{id:"磁盘管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#磁盘管理"}},[a._v("#")]),a._v(" 磁盘管理")]),a._v(" "),s("blockquote",[s("p",[a._v("df（列出文件系统整体的磁盘使用量） du（检查磁盘空间使用量）")])]),a._v(" "),s("div",{staticClass:"language-plain extra-class"},[s("pre",{pre:!0,attrs:{class:"language-plain"}},[s("code",[a._v("df -h 查看多少兆/g\ndu 查看使用内存 也可以看见子集目录\ndu -a 全部\ndu -sm /* 检查根目录下所占用的容量\nmount 挂载 源目录 目的\nunmount -f 挂载位置 卸载\n")])])]),s("p",[s("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2023/png/33708367/1679158254728-8db1ef81-a475-44c7-b02b-09841d82b17c.png",alt:""}})]),a._v(" "),s("h2",{attrs:{id:"进程管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进程管理"}},[a._v("#")]),a._v(" 进程管理")]),a._v(" "),s("p",[a._v("ps -xx")]),a._v(" "),s("ul",[s("li",[a._v("-a 显示当前终端允许的所有的进程信息（当前进程）")]),a._v(" "),s("li",[a._v("-u 以用户的信息显示进程")]),a._v(" "),s("li",[a._v("-x 显示后台运行进程的参数")])]),a._v(" "),s("div",{staticClass:"language-plain extra-class"},[s("pre",{pre:!0,attrs:{class:"language-plain"}},[s("code",[a._v("ps -aux | grep java\nps -ef|grep mysql 带着父进程的进程号\npstree -pu\np 父id\nu 用户组\nkill -9 pid 强制结束进程\n")])])]),s("h2",{attrs:{id:"docker-compose-单机"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose-单机"}},[a._v("#")]),a._v(" Docker-compose（单机）")]),a._v(" "),s("p",[a._v("###基本概念\n容器编排就是针对容器生命周期的管理，对容器的生命周期进行快速方便的进行管理。")]),a._v(" "),s("p",[a._v("更加简单的使用容器。")]),a._v(" "),s("h3",{attrs:{id:"需求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#需求"}},[a._v("#")]),a._v(" 需求")]),a._v(" "),s("ul",[s("li",[a._v("依赖管理： 当一个容器必须在另一个容器运行完成后，才能运行。")]),a._v(" "),s("li",[a._v("副本数控制：容器有时候也需要集群，快速的对容器进行弹性伸缩。")]),a._v(" "),s("li",[a._v("配置共享：通过配置文件统一描述需要运行的服务相关信息，自动化的解析配置内容，构建对应的服务。")])]),a._v(" "),s("h3",{attrs:{id:"主要文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#主要文件"}},[a._v("#")]),a._v(" 主要文件")]),a._v(" "),s("p",[a._v("docker-compose.yml")]),a._v(" "),s("p",[a._v("描述了容器运行时所需要的配置，比如网络，数据卷，端口等等")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2024/png/33708367/1709738749481-9a3e1d93-de0f-49bd-9cb9-8bd68427d135.png",alt:""}})]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-L")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"http://mirrors.aliyun.com/docker-toolbox/linux/compose/1.21.2/docker-compose-'),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("uname")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("-"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("uname")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-m")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v('"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" /usr/local/bin/docker-compose\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" +x /usr/local/bin/docker-compose\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ln")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" /usr/local/bin/docker-compose /usr/bin/docker-compose\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker-compose")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--version")]),a._v("\n")])])]),s("p",[s("a",{attrs:{href:"https://docs.docker.com/compose/compose-file/compose-file-v2/",target:"_blank",rel:"noopener noreferrer"}},[a._v("命令介绍"),s("OutboundLink")],1)]),a._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2.1"')]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("services")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("nginx-demo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"nginx"')]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v('# container_name: "nginx_compose"')]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("restart")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"always"')]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("networks")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" /www/wolfcode.cn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/usr/share/nginx/html\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("volumes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" wolfcode_volume\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("environment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("APP_ENV")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" dev\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("dns")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" 114.114.115.115\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n     "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# - 80:80")]),a._v("\n     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("networks")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("wolfcode_net")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("driver")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" bridge\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ipam")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("driver")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" default\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("config")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("subnet")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" 188.18.0.0/16\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("gateway")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" 188.18.0.1\n")])])]),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[a._v("docker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("compose config // 检查配置文件\n\ndocker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("compose ps // 查看\n\ndocker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("compose create "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("nginx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("demo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("// 创建\n\ndocker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("compose up "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("d  // 重新运行\n\ndocker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("compose scale nginx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("demo=3 // 启动几个 弹性伸缩\n\ndocker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("compose logs "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("f "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("nginx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("demo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" // 查看日志\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);
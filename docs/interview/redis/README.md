---
title: Redis
---
# Redis
## Redis的使用场景
1.缓存
2.分布式锁
3.消息队列、延迟队列
### 缓存穿透
::: tip 定义
查询一个不存在的数据，mysql查询不到数据也不会直接写入缓存，就会导致每次请求都会查询数据库。
:::
#### 解决方案
1.缓存空数据 查询返回的数据为空，仍把这个空数据写入缓存 <br>
优点：可以防止缓存穿透，缺点：缓存空数据可能会占用大量缓存空间  <br>
2.布隆过滤器 <br>
缓存预热：系统启动时，把所有可能的数据都加载到缓存中 <br>
位图（bitmap）：相当于一个以（bit）位为单位的数组，数组中的每个元素只能是0或1，用于判断某个元素是否存在 <br>
**布隆过滤器用来判断一个元素是否存在于一个集合中** <br>
* **存储数据**：将数据通过多个哈希函数映射到位图中的多个位置，将这些位置的值置为1
* **查询数据**：将数据通过多个哈希函数映射到位图中的多个位置，判断这些位置的值是否都为1
* 可能存在误判，数组越小误判率越高，数组越大误判率越低，但占用内存越大。误判率是可以设置的。
![布隆过滤器](../../.vuepress/public/assets/redis/bulong.png)
实现方式: Guava、Redission<br>
优点: 1.查询速度快 2.占用内存少 缺点: 1.可能存在误判 2.无法删除数据
